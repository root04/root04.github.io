---
layout: post
title: "[MySQL] 文字化け修正"
date: 2013-10-22T00:16:00-07:00
comments: false
categories:
 - MySQL
---


<div class='post'>
mysqlのバージョンは、5.5.32-0ubuntu0.12.04.1。
<br />
<br />インストールしたてのmysqlに、何も考えず
<br />
<br />$ rake db:seed
<br />
<br />やったら、がっつり「？？」に文字化けしちゃった。
<br />毎度設定忘れるので、メモ。
<br />
<br />mysql&gt; select &nbsp;* from states;
<br />+----+-------+---------------------+---------------------+
<br />| id | state | created_at &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| updated_at &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|
<br />+----+-------+---------------------+---------------------+
<br />| &nbsp;1 | ?? &nbsp; &nbsp;| 2013-10-22 07:06:42 | 2013-10-22 07:06:42 |
<br />| &nbsp;2 | ?? &nbsp; &nbsp;| 2013-10-22 07:06:42 | 2013-10-22 07:06:42 |
<br />| &nbsp;3 | ?? &nbsp; &nbsp;| 2013-10-22 07:06:42 | 2013-10-22 07:06:42 |
<br />| &nbsp;4 | ?? &nbsp; &nbsp;| 2013-10-22 07:06:42 | 2013-10-22 07:06:42 |
<br />| &nbsp;5 | ?? &nbsp; &nbsp;| 2013-10-22 07:06:42 | 2013-10-22 07:06:42 |
<br />| &nbsp;6 | ?? &nbsp; &nbsp;| 2013-10-22 07:06:42 | 2013-10-22 07:06:42 |
<br />| &nbsp;7 | ?? &nbsp; &nbsp;| 2013-10-22 07:06:42 | 2013-10-22 07:06:42 |
<br />+----+-------+---------------------+---------------------+
<br />7 rows in set (0.01 sec)
<br />
<br />
<br />my.cnfを編集して追記する。
<br />$ sudo vi /etc/mysql/my.cnf
<br />
<br />[mysqld]の欄に下記追記。
<br />character-set-server = utf8
<br />skip-character-set-client-handshake
<br />collation-server = utf8_general_ci
<br />init-connect = SET NAMES utf8
<br />
<br />そしてmysql再起動。
<br />$ sudo /etc/init.d/mysql restart
<br />
<br />database作り直し。
<br />$ mysql
<br />mysql&gt; create database hogehoge
<br />
<br />$ rake db:migrate
<br />$ rake db:seed
<br />
<br />mysql&gt; select * from states;
<br />+----+-----------+---------------------+---------------------+
<br />| id | state &nbsp; &nbsp; | created_at &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| updated_at &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|
<br />+----+-----------+---------------------+---------------------+
<br />| &nbsp;1 | 状１ &nbsp; &nbsp; &nbsp;| 2013-10-22 07:12:15 | 2013-10-22 07:12:15 |
<br />| &nbsp;2 | 状２ &nbsp; &nbsp; &nbsp;| 2013-10-22 07:12:15 | 2013-10-22 07:12:15 |
<br />| &nbsp;3 | 状３ &nbsp; &nbsp; &nbsp;| 2013-10-22 07:12:15 | 2013-10-22 07:12:15 |
<br />| &nbsp;4 | 状４ &nbsp; &nbsp; &nbsp;| 2013-10-22 07:12:15 | 2013-10-22 07:12:15 |
<br />| &nbsp;5 | 状５ &nbsp; &nbsp; &nbsp;| 2013-10-22 07:12:15 | 2013-10-22 07:12:15 |
<br />| &nbsp;6 | 状６ &nbsp; &nbsp; &nbsp;| 2013-10-22 07:12:15 | 2013-10-22 07:12:15 |
<br />| &nbsp;7 | 状７ &nbsp; &nbsp; &nbsp;| 2013-10-22 07:12:15 | 2013-10-22 07:12:15 |
<br />+----+-----------+---------------------+---------------------+
<br />7 rows in set (0.00 sec)
<br />
<br />ほほほー。直った。
</div>
