---
layout: post
title: "[MySQL] 文字化け修正"
date: 2013-10-22T00:16:00-07:00
comments: false
categories:
 - MySQL
---
<div  class=post>
  mysqlのバージョンは、5.5.32-0ubuntu0.12.04.1。 <br> <br>
  インストールしたてのmysqlに、何も考えず <br> <br>
  $ rake db:seed <br> <br>
  やったら、がっつり「？？」に文字化けしちゃった。 <br>
  毎度設定忘れるので、メモ。 <br> <br>
  mysql> select  * from states; <br>
  +----+-------+---------------------+---------------------+ <br>
  | id | state | created_at          | updated_at          | <br>
  +----+-------+---------------------+---------------------+ <br>
  |  1 | ??    | 2013-10-22 07:06:42 | 2013-10-22 07:06:42 | <br>
  |  2 | ??    | 2013-10-22 07:06:42 | 2013-10-22 07:06:42 | <br>
  |  3 | ??    | 2013-10-22 07:06:42 | 2013-10-22 07:06:42 | <br>
  |  4 | ??    | 2013-10-22 07:06:42 | 2013-10-22 07:06:42 | <br>
  |  5 | ??    | 2013-10-22 07:06:42 | 2013-10-22 07:06:42 | <br>
  |  6 | ??    | 2013-10-22 07:06:42 | 2013-10-22 07:06:42 | <br>
  |  7 | ??    | 2013-10-22 07:06:42 | 2013-10-22 07:06:42 | <br>
  +----+-------+---------------------+---------------------+ <br>
  7 rows in set (0.01 sec) <br> <br>
  <br>
  my.cnfを編集して追記する。 <br>
  $ sudo vi /etc/mysql/my.cnf <br> <br>
  [mysqld]の欄に下記追記。 <br>
  character-set-server = utf8 <br>
  skip-character-set-client-handshake <br>
  collation-server = utf8_general_ci <br>
  init-connect = SET NAMES utf8 <br> <br>
  そしてmysql再起動。 <br>
  $ sudo /etc/init.d/mysql restart <br> <br>
  database作り直し。 <br>
  $ mysql <br>
  mysql> create database hogehoge <br> <br>
  $ rake db:migrate <br>
  $ rake db:seed <br> <br>
  mysql> select * from states; <br>
  +----+-----------+---------------------+---------------------+ <br>
  | id | state     | created_at          | updated_at          | <br>
  +----+-----------+---------------------+---------------------+ <br>
  |  1 | 状１      | 2013-10-22 07:12:15 | 2013-10-22 07:12:15 | <br>
  |  2 | 状２      | 2013-10-22 07:12:15 | 2013-10-22 07:12:15 | <br>
  |  3 | 状３      | 2013-10-22 07:12:15 | 2013-10-22 07:12:15 | <br>
  |  4 | 状４      | 2013-10-22 07:12:15 | 2013-10-22 07:12:15 | <br>
  |  5 | 状５      | 2013-10-22 07:12:15 | 2013-10-22 07:12:15 | <br>
  |  6 | 状６      | 2013-10-22 07:12:15 | 2013-10-22 07:12:15 | <br>
  |  7 | 状７      | 2013-10-22 07:12:15 | 2013-10-22 07:12:15 | <br>
  +----+-----------+---------------------+---------------------+ <br>
  7 rows in set (0.00 sec) <br> <br>
  ほほほー。直った。
</div>
