---
layout: post
title: "[RoR] Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension."
date: 2013-10-21T23:56:00-07:00
comments: false
categories:
 - Ruby on Rails
---


<div class='post'>
Time to time, I get this error...
<br />
<br />Many times, it's just alert that I don't have something installed.
<br />This time, it happened with mysql2 gem, and I needed to install
<br />
<br />libmysqlclient-dev
<br />
<br />package on my Ubuntu 12.04.
<br />
<br />
<br />The error was following.
<br />
<br />================= From here =================
<br />Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.
<br />
<br />&nbsp; &nbsp; /home/nubee/.rvm/rubies/ruby-1.9.3-p125/bin/ruby extconf.rb
<br />checking for rb_thread_blocking_region()... yes
<br />checking for rb_wait_for_single_fd()... yes
<br />checking for mysql_query() in -lmysqlclient... no
<br />checking for main() in -lm... yes
<br />checking for mysql_query() in -lmysqlclient... no
<br />checking for main() in -lz... yes
<br />checking for mysql_query() in -lmysqlclient... no
<br />checking for main() in -lsocket... no
<br />checking for mysql_query() in -lmysqlclient... no
<br />checking for main() in -lnsl... yes
<br />checking for mysql_query() in -lmysqlclient... no
<br />checking for main() in -lmygcc... no
<br />checking for mysql_query() in -lmysqlclient... no
<br />*** extconf.rb failed ***
<br />Could not create Makefile due to some reason, probably lack of
<br />necessary libraries and/or headers. &nbsp;Check the mkmf.log file for more
<br />details. &nbsp;You may need configuration options.
<br />
<br />Provided configuration options:
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-opt-dir
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-opt-dir
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-opt-include
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-opt-include=${opt-dir}/include
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-opt-lib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-opt-lib=${opt-dir}/lib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-make-prog
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-make-prog
<br />&nbsp; &nbsp; &nbsp; &nbsp; --srcdir=.
<br />&nbsp; &nbsp; &nbsp; &nbsp; --curdir
<br />&nbsp; &nbsp; &nbsp; &nbsp; --ruby=/home/nubee/.rvm/rubies/ruby-1.9.3-p125/bin/ruby
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-mysql-config
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-mysql-config
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-mysql-dir
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-mysql-dir
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-mysql-include
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-mysql-include=${mysql-dir}/include
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-mysql-lib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-mysql-lib=${mysql-dir}/lib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-mysqlclientlib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-mysqlclientlib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-mlib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-mlib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-mysqlclientlib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-mysqlclientlib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-zlib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-zlib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-mysqlclientlib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-mysqlclientlib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-socketlib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-socketlib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-mysqlclientlib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-mysqlclientlib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-nsllib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-nsllib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-mysqlclientlib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-mysqlclientlib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-mygcclib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-mygcclib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --with-mysqlclientlib
<br />&nbsp; &nbsp; &nbsp; &nbsp; --without-mysqlclientlib
<br />
<br />
<br />Gem files will remain installed in /home/nubee/.rvm/gems/ruby-1.9.3-p125/gems/mysql2-0.3.11 for inspection.
<br />Results logged to /home/nubee/.rvm/gems/ruby-1.9.3-p125/gems/mysql2-0.3.11/ext/mysql2/gem_make.out
<br />
<br />An error occurred while installing mysql2 (0.3.11), and Bundler cannot continue.
<br />Make sure that `gem install mysql2 -v '0.3.11'` succeeds before bundling.
<br />================= &nbsp;To here &nbsp;=================
<br />
<div>
<br />
</div>
<div>$ sudo apt-get install libmysqlclient-dev
</div>
<div>
<br />
</div>
<div>got me all clear.
</div>
<div>
<br />
</div>
<div>I also failed on installing rmagick gem, but following packages helped me.
</div>
<div>
<br />
</div>
<div>$ sudo apt-get install imagemagick&nbsp;libmagickwand-dev
</div>
<div>
<br />
</div>
<div>And I'm all clear.
</div>
<div>
<br />
</div>
<div>I'll write an entry about using rmagick later.
</div>
</div>
