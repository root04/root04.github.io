---
layout: post
title: "ruby on rails - rvm(Ruby Version Manager) -"
date: 2012-03-18T08:21:00-07:00
comments: false
published: false
categories:
 - Ruby on Rails
---
<div  class=post>
  This entry is a memo about developing with ruby on rails.  <br> <br>
  Prerequisites: <br>
    - I've never used ruby <br>
    - I've developed with MVC Framework in Java and Python <br> <br>
  First, I did some googling about ruby and etc.  <br> <br>
  And decided to learn about following applications.  <br> <br>
    - rvm(Ruby Version Manager) <br>
    - rubygems <br>
    - rails <br>
    - passenger <br> <br>
  From above, this entry focuses on RVM.  <br> <br>
  RVM(Ruby Version Manager) manages ruby version and gemsets.  <br> <br>
  You can install many versions of rubys, and many combinations of gemsets, <br> <br>
  and choose to use a right version on right purposes.  <br> <br>
  1. installing rvm <br>
  go home and install it.  <br> <br> <br>
  $ cd <br>
  $ bash < <(curl -s https://rvm.beginrescueend.com/install/rvm) <br> <br>
  You'll get <br>
  Deprecated command, please use: <br> <br>
  bash -s stable < <(curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer) <br> <br>
  So, execute the command above, instead.  <br> <br>
  This installs rvm under ${HOME}/.rvm <br> <br>
  2. setup environment variables <br> <br>
  Edit .bashrc and add this line.  <br> <br>
    [[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm" <br> <br>
  3. check ruby version that can be installed and install some <br> <br>
  "rvm list known" command shows what's available.  <br> <br>
  $ rvm list known <br>
  # MRI Rubies <br> <br>
  [ruby-]1.8.6[-p420] <br>
  [ruby-]1.8.7[-p358] <br>
  [ruby-]1.8.7-head <br>
  [ruby-]1.9.1[-p431] <br>
  [ruby-]1.9.2-p180 <br>
  [ruby-]1.9.2-p290 <br>
  [ruby-]1.9.2[-p318] <br>
  [ruby-]1.9.2-head <br>
  [ruby-]1.9.3-preview1 <br>
  [ruby-]1.9.3-rc1 <br>
  [ruby-]1.9.3-p0 <br>
  [ruby-]1.9.3[-p125] <br>
  [ruby-]1.9.3-head <br>
  ruby-head <br>
  ...snip <br> <br>
  I installed 1.9.3-p125 and 1.8.7-p358.  <br> <br>
  $ rvm install 1.9.3-p125 <br>
  $ rvm install 1.8.7-p358 <br> <br>
  4. set default ruby <br> <br>
  $ rvm use 1.9.3-p125 --default <br>
  $ ruby -v <- check the version <br> <br>
  ruby 1.9.3p125 (2012-02-16 revision 34643) [x86_64-linux] <br> <br>
  <br>
  5. create gemsets <br> <br>
  gemset is a grouping function of gems.  <br> <br>
  I can create gemset for rails version3.1 and rails version 3.2, <br> <br>
  and use it on different purpose, when ever I need to.  <br> <br>
  $ rvm gemset create rails31 <br> <br>
  $ rvm gemset create rails32 <br> <br>
  <br>
  $ rvm gemset list <br>
  gemsets for ruby-1.9.3-p125 (found in ${HOME}/.rvm/gems/ruby-1.9.3-p125) <br>
     global <br>
     rails31 <br>
     rails32 <br> <br>
  <br> <br>
  6. set default gemsets <br>
    $ rvm use 1.9.3-p125@rails32 --default <br>
  7. install passenger and rails3.2.2 <br>
    check where you are.  <br>
    $ rvm gemset list <br>
    gemsets for ruby-1.9.3-p125 (found in ${HOME}/.rvm/gems/ruby-1.9.3-p125) <br>
       global <br>
       rails31 <br>
    => rails32 <br>
    $ gem install rails --version 3.2.2 <br>
    $ gem install passenger <br>
    8. setup apache to use passenger(install modules and so on) <br>
    a. if you use apt-get installed apache <br>
    just type <br>
    $ passenger-install-apache2 <br>
    and follow the instructions.  <br>
    b. if you plan to use self compiled apache <br>
      - add apache binary path to PATH <br>
        PATH=${PATH}:/usr/local/httpd/bin/ <br>
        export PATH <br>
      - set APXS2 path <br>
      - set APR_CONFIG path <br>
      - set APU_CONFIG path <br>
          APXS2=/usr/local/httpd/bin/apxs <br>
          APR_CONFIG=/usr/local/httpd/bin/apr-1-config <br>
          APU_CONFIG=/usr/local/httpd/bin/apu-1-config <br>
          export APXS2 <br>
          export APR_CONFIG <br>
          export APU_CONFIG <br>
        - set HTTPD path <br>
          HTTPD=/usr/local/httpd <br>
          export HTTPD <br>
      and then type <br>
      $ rvmsudo passenger-install-apache2 <br>
    and do what the terminal saids.  <br>
    I'll write about executing self made ruby app on rails on the next entry.  <br>
</div>
