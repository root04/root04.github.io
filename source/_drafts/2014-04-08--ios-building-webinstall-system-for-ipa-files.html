---
layout: post
title: "[iOS] Building webinstall system for ipa files"
date: 2014-04-08T05:50:00-07:00
comments: false
---

<div class='post'>
As in the title.<br /><br />I've built an iOS webinstall system. And the memo below.<br /><br />The files you will need for webinstall.<br /><br /><h4>Required</h4><ul><li>ipa file</li><li>plist</li></ul><h4>Optional</h4><ul><li>icon</li><li>html file</li></ul> Application you will need for webinstall.<br /><br /><h4>Required</h4><ul><li>some kind of web server</li><ul><li>I used nginx</li></ul></ul><br /><h4>Setting up nginx</h4><hr width="30%" noshade align="left" size="5">I'll asssume you have enough skill to install and get nginx to startup.<br /><pre class="prettyprint"><span style="font-size: small;">user www-data;<br />worker_processes 4;<br />pid /var/run/nginx.pid;<br /><br />events {<br />        worker_connections 768;<br />        # multi_accept on;<br />}<br /><br />http {<br />        ##<br />        # Basic Settings<br />        ##<br />        sendfile on;<br />        tcp_nopush on;<br />        tcp_nodelay on;<br />        keepalive_timeout 65;<br />        types_hash_max_size 2048;<br /><br />        include /etc/nginx/mime.types;<br />        default_type application/octet-stream;<br /><br />        ##<br />        # Logging Settings<br />        ##<br />        access_log /var/log/nginx/access.log;<br />        error_log /var/log/nginx/error.log;<br /><br />        ##<br />        # Gzip Settings<br />        ##<br />        gzip on;<br />        gzip_disable "msie6";<br /><br />        ##<br />        # Virtual Host Configs<br />        ##<br />        include /etc/nginx/conf.d/*.conf;<br />        include /etc/nginx/sites-enabled/*;<br />}<br /></span></pre> /etc/nginx/sites-available/default  <pre class="prettyprint"><span style="font-size: small;">server {<br />        listen 443 default_server;<br />        server_name hogehoge.com;<br /><br />        ssl                  on;<br />        ssl_certificate      /etc/nginx/cert/server_intermediate-ca.crt;<br />        ssl_certificate_key  /etc/nginx/cert/private.key;<br />        ssl_session_timeout  5m;<br />        ssl_protocols  SSLv2 SSLv3 TLSv1;<br />        ssl_ciphers  HIGH:!aNULL:!MD5;<br />        ssl_prefer_server_ciphers   on;<br /><br />        root /opt/nginx/www;<br />        index index.html index.htm;<br /><br />        server_name localhost;<br /><br />        location / {<br />                allow xxx.xxx.xxx.xxx/24;<br /><br />                deny all;<br />                try_files $uri $uri/ /index.html;<br />        }<br />}<br /></span></pre>   <pre class="prettyprint"><span style="font-size: small;">&lt;plist version=&quot;1.0&quot;&gt;<br />&lt;dict&gt;<br />  &lt;key&gt;items&lt;/key&gt;<br />  &lt;array&gt;<br />    &lt;dict&gt;<br />      &lt;key&gt;assets&lt;/key&gt;<br />      &lt;array&gt;<br />        &lt;dict&gt;<br />          &lt;key&gt;kind&lt;/key&gt;<br />          &lt;string&gt;software-package&lt;/string&gt;<br />          &lt;key&gt;url&lt;/key&gt;<br />          &lt;string&gt;https://xxx.xxx.com/hogehoge.ipa&lt;/string&gt;<br />        &lt;/dict&gt;<br />        &lt;dict&gt;<br />          &lt;key&gt;kind&lt;/key&gt;<br />          &lt;string&gt;full-size-image&lt;/string&gt;<br />          &lt;key&gt;needs-shine&lt;/key&gt;<br />          &lt;false/&gt;<br />          &lt;key&gt;url&lt;/key&gt;<br />          &lt;string&gt;https://xxx.xxx.com/hogehoge_icon.png&lt;/string&gt;<br />        &lt;/dict&gt;<br />        &lt;dict&gt;<br />          &lt;key&gt;kind&lt;/key&gt;<br />          &lt;string&gt;display-image&lt;/string&gt;<br />          &lt;key&gt;needs-shine&lt;/key&gt;<br />          &lt;false/&gt;<br />          &lt;key&gt;url&lt;/key&gt;<br />          &lt;string&gt;https://xxx.xxx.com/ios_icon.png&lt;/string&gt;<br />        &lt;/dict&gt;<br />      &lt;/array&gt;<br />      &lt;key&gt;metadata&lt;/key&gt;<br />      &lt;dict&gt;<br />        &lt;key&gt;bundle-identifier&lt;/key&gt;<br />        &lt;string&gt;xxx.yyy.zzz&lt;/string&gt;<br />        &lt;key&gt;kind&lt;/key&gt;<br />        &lt;string&gt;software&lt;/string&gt;<br />        &lt;key&gt;subtitle&lt;/key&gt;<br />        &lt;string&gt;AABBCC&lt;/string&gt;<br />        &lt;key&gt;title&lt;/key&gt;<br />        &lt;string&gt;XXX&lt;/string&gt;<br />      &lt;/dict&gt;<br />    &lt;/dict&gt;<br />  &lt;/array&gt;<br />  &lt;/dict&gt;<br />&lt;/plist&gt;<br /></span></pre></div>
